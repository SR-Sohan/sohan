"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var r=require("react"),e=function(){return(e=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++)for(var u in e=arguments[t])Object.prototype.hasOwnProperty.call(e,u)&&(r[u]=e[u]);return r}).apply(this,arguments)};function t(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(n=Object.getOwnPropertySymbols(r);u<n.length;u++)e.indexOf(n[u])<0&&Object.prototype.propertyIsEnumerable.call(r,n[u])&&(t[n[u]]=r[n[u]])}return t}function n(r,e,t,n){return new(t||(t=Promise))((function(u,i){function a(r){try{o(n.next(r))}catch(r){i(r)}}function c(r){try{o(n.throw(r))}catch(r){i(r)}}function o(r){var e;r.done?u(r.value):(e=r.value,e instanceof t?e:new t((function(r){r(e)}))).then(a,c)}o((n=n.apply(r,e||[])).next())}))}function u(r,e){var t,n,u,i,a={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,n&&(u=2&i[0]?n.return:i[0]?n.throw||((u=n.return)&&u.call(n),0):n.next)&&!(u=u.call(n,i[1])).done)return u;switch(n=0,u&&(i=[2&i[0],u.value]),i[0]){case 0:case 1:u=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(u=a.trys,(u=u.length>0&&u[u.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!u||i[1]>u[0]&&i[1]<u[3])){a.label=i[1];break}if(6===i[0]&&a.label<u[1]){a.label=u[1],u=i;break}if(u&&a.label<u[2]){a.label=u[2],a.ops.push(i);break}u[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(r,a)}catch(r){i=[6,r],n=0}finally{t=u=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}}function i(r){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function a(r,e){var t="function"==typeof Symbol&&r[Symbol.iterator];if(!t)return r;var n,u,i=t.call(r),a=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(r){u={error:r}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(u)throw u.error}}return a}function c(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat(a(arguments[e]));return r}var o=function(r){return r instanceof HTMLElement},s="blur",l="change",f="input",d="onBlur",v="onChange",y="onSubmit",h="onTouched",p="all",m="max",b="min",g="maxLength",A="minLength",x="pattern",R="required",w="validate";var F=function(r){return null==r},V=function(r){return"object"==typeof r},S=function(r){return!F(r)&&!Array.isArray(r)&&V(r)&&!(r instanceof Date)},C=function(r){return!Array.isArray(r)&&(/^\w*$/.test(r)||!/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/.test(r))},O=function(r){return r.filter(Boolean)},k=function(r){return O(r.replace(/["|']/g,"").replace(/\[/g,".").replace(/\]/g,"").split("."))};function E(r,e,t){for(var n=-1,u=C(e)?[e]:k(e),i=u.length,a=i-1;++n<i;){var c=u[n],o=t;if(n!==a){var s=r[c];o=S(s)||Array.isArray(s)?s:isNaN(+u[n+1])?{}:[]}r[c]=o,r=r[c]}return r}var D=function(r,e){for(var t in void 0===e&&(e={}),r)C(t)?e[t]=r[t]:E(e,t,r[t]);return e},B=function(r){return void 0===r},j=function(r,e,t){var n=O(e.split(/[,[\].]+?/)).reduce((function(r,e){return F(r)?r:r[e]}),r);return B(n)||n===r?B(r[e])?t:r[e]:n},L=function(r,e){o(r)&&r.removeEventListener&&(r.removeEventListener(f,e),r.removeEventListener(l,e),r.removeEventListener(s,e))},T={isValid:!1,value:""},N=function(r){return Array.isArray(r)?r.reduce((function(r,e){return e&&e.ref.checked?{isValid:!0,value:e.ref.value}:r}),T):T},W=function(r){return"radio"===r.type},M=function(r){return"file"===r.type},P=function(r){return"checkbox"===r.type},H=function(r){return"select-multiple"===r.type},U={value:!1,isValid:!1},q={value:!0,isValid:!0},I=function(r){if(Array.isArray(r)){if(r.length>1){var e=r.filter((function(r){return r&&r.ref.checked})).map((function(r){return r.ref.value}));return{value:e,isValid:!!e.length}}var t=r[0].ref,n=t.checked,u=t.value,i=t.attributes;return n?i&&!B(i.value)?B(u)||""===u?q:{value:u,isValid:!0}:q:U}return U};function _(r,e,t,n){var u=r.current[e];if(u){var i=u.ref,a=i.value,o=i.disabled,s=u.ref;if(o&&n)return;return M(s)?s.files:W(s)?N(u.options).value:H(s)?c(s.options).filter((function(r){return r.selected})).map((function(r){return r.value})):P(s)?I(u.options).value:a}if(t)return j(t.current,e)}function z(r){return!r||r instanceof HTMLElement&&r.nodeType!==Node.DOCUMENT_NODE&&z(r.parentNode)}var G=function(r){return S(r)&&!Object.keys(r).length},$=function(r){return"boolean"==typeof r};function J(r,e){var t=C(e)?[e]:k(e),n=1==t.length?r:function(r,e){for(var t=e.slice(0,-1).length,n=0;n<t;)r=B(r)?n++:r[e[n++]];return r}(r,t),u=t[t.length-1],i=void 0;n&&delete n[u];for(var a=0;a<t.slice(0,-1).length;a++){var c=-1,o=void 0,s=t.slice(0,-(a+1)),l=s.length-1;for(a>0&&(i=r);++c<s.length;){var f=s[c];o=o?o[f]:r[f],l===c&&(S(o)&&G(o)||Array.isArray(o)&&!o.filter((function(r){return S(r)&&!G(r)||$(r)})).length)&&(i?delete i[f]:delete r[f]),i=o}}return r}var K=function(r,e){return r&&r.ref===e};function Q(r,t,n,u,i){for(var a,c=-1;++c<r.length;){for(var o in r[c])Array.isArray(r[c][o])?(!n[c]&&(n[c]={}),n[c][o]=[],Q(r[c][o],j(t[c]||{},o,[]),n[c][o],n[c],o)):j(t[c]||{},o)===r[c][o]?E(n[c]||{},o):n[c]=e(e({},n[c]),((a={})[o]=!0,a));!n.length&&u&&delete u[i]}return n.length?n:void 0}var X=function(r){return"string"==typeof r},Y=function(r){return F(r)||!V(r)};function Z(r,e){if(Y(r)||Y(e))return e;for(var t in e){var n=r[t],u=e[t];try{r[t]=S(n)&&S(u)||Array.isArray(n)&&Array.isArray(u)?Z(n,u):u}catch(r){}}return r}var rr=function(r,t,n,u){var i={},a=function(e){(B(u)||(X(u)?e.startsWith(u):Array.isArray(u)&&u.find((function(r){return e.startsWith(r)}))))&&(i[e]=_(r,e,void 0,n))};for(var c in r.current)a(c);return Z(D(e({},(t||{}).current||{})),D(i))};function er(r,e,t){var n,u;void 0===r&&(r=[]),void 0===e&&(e=[]);var a=Object.keys(r),c=Object.keys(e);if(a.length!==c.length)return!1;try{for(var o=i(a),s=o.next();!s.done;s=o.next()){var l=s.value;if(!t||!["ref","context"].includes(l)){var f=r[l],d=e[l];if((S(f)||Array.isArray(f))&&(S(d)||Array.isArray(d))?!er(f,d,t):f!==d)return!1}}}catch(r){n={error:r}}finally{try{s&&!s.done&&(u=o.return)&&u.call(o)}finally{if(n)throw n.error}}return!0}var tr=function(r){return r instanceof RegExp},nr=function(r){return S(e=r)&&!tr(e)?r:{value:r,message:""};var e},ur=function(r){return"function"==typeof r},ir=function(e){return X(e)||S(e)&&r.isValidElement(e)};function ar(r,e,t){if(void 0===t&&(t="validate"),ir(r)||$(r)&&!r)return{type:t,message:ir(r)?r:"",ref:e}}var cr=function(r,t,n,u,i){var a;if(t){var c=n[r];return e(e({},c),{types:e(e({},c&&c.types?c.types:{}),(a={},a[u]=i||!0,a))})}return{}},or=function(r,t,c,o){var s=c.ref,l=c.ref,f=l.type,d=l.value,v=c.options,y=c.required,h=c.maxLength,p=c.minLength,V=c.min,C=c.max,O=c.pattern,k=c.validate;return n(void 0,void 0,void 0,(function(){var n,c,l,E,D,B,j,L,T,M,H,U,q,z,J,K,Q,Y,Z,rr,er,or,sr,lr,fr,dr,vr,yr,hr,pr,mr,br,gr,Ar,xr,Rr,wr,Fr,Vr,Sr,Cr,Or,kr,Er,Dr,Br;return u(this,(function(u){switch(u.label){case 0:return n=r.current,c=s.name,l={},E=W(s),D=P(s),B=E||D,j=""===d,L=cr.bind(null,c,t,l),T=function(r,t,n,u,i){void 0===u&&(u=g),void 0===i&&(i=A);var a=r?t:n;l[c]=e({type:r?u:i,message:a,ref:s},L(r?u:i,a))},y&&(!E&&!D&&(j||F(d))||$(d)&&!d||D&&!I(v).isValid||E&&!N(v).isValid)&&(M=ir(y)?{value:!!y,message:y}:nr(y),H=M.value,U=M.message,H&&(l[c]=e({type:R,message:U,ref:B?((n[c].options||[])[0]||{}).ref:s},L(R,U)),!t))?[2,l]:(F(V)&&F(C)||(yr=void 0,hr=void 0,q=nr(C),z=q.value,J=q.message,K=nr(V),Q=K.value,Y=K.message,"number"===f||!f&&!isNaN(d)?(Z=s.valueAsNumber||parseFloat(d),F(z)||(yr=Z>z),F(Q)||(hr=Z<Q)):(rr=s.valueAsDate||new Date(d),X(z)&&(yr=rr>new Date(z)),X(Q)&&(hr=rr<new Date(Q))),!yr&&!hr||(T(!!yr,J,Y,m,b),t)))&&(!X(d)||j||!h&&!p||(er=nr(h),or=er.value,sr=er.message,lr=nr(p),fr=lr.value,dr=lr.message,vr=d.toString().length,yr=!F(or)&&vr>or,hr=!F(fr)&&vr<fr,!yr&&!hr||(T(!!yr,sr,dr),t)))&&(!O||j||(pr=nr(O),mr=pr.value,br=pr.message,!tr(mr)||mr.test(d)||(l[c]=e({type:x,message:br,ref:s},L(x,br)),t)))?k?(gr=_(r,c,o),Ar=B&&v?v[0].ref:s,ur(k)?[4,k(gr)]:[3,2]):[3,11]:[2,l];case 1:return xr=u.sent(),(kr=ar(xr,Ar))&&(l[c]=e(e({},kr),L(w,kr.message)),!t)?[2,l]:[3,11];case 2:if(!S(k))return[3,11];Rr={},u.label=3;case 3:u.trys.push([3,8,9,10]),wr=i(Object.entries(k)),Fr=wr.next(),u.label=4;case 4:return Fr.done?[3,7]:(Vr=a(Fr.value,2),Sr=Vr[0],Cr=Vr[1],G(Rr)||t?[4,Cr(gr)]:[3,7]);case 5:Or=u.sent(),(kr=ar(Or,Ar,Sr))&&(Rr=e(e({},kr),L(Sr,kr.message)),t&&(l[c]=Rr)),u.label=6;case 6:return Fr=wr.next(),[3,4];case 7:return[3,10];case 8:return Er=u.sent(),Dr={error:Er},[3,10];case 9:try{Fr&&!Fr.done&&(Br=wr.return)&&Br.call(wr)}finally{if(Dr)throw Dr.error}return[7];case 10:if(!G(Rr)&&(l[c]=e({ref:Ar},Rr),!t))return[2,l];u.label=11;case 11:return[2,l]}}))}))},sr=function(r,e){return Object.entries(e).map((function(t){var n=a(t,2);return function(e,t,n){var u=n?r+"."+e:r+"["+e+"]";return Y(t)?u:sr(u,t)}(n[0],n[1],S(e))})).flat(1/0)},lr=function(r,e,t,n,u){var i;return t.add(e),G(r)?i=void 0:(i=j(r,e),(S(i)||Array.isArray(i))&&sr(e,i).forEach((function(r){return t.add(r)}))),B(i)?u?n:j(n,e):i},fr=function(r){var e=r.isOnBlur,t=r.isOnChange,n=r.isOnTouch,u=r.isTouched,i=r.isReValidateOnBlur,a=r.isReValidateOnChange,c=r.isBlurEvent,o=r.isSubmitted;return!r.isOnAll&&(!o&&n?!(u||c):(o?i:e)?!c:!(o?a:t)||c)},dr=function(r){return r.substring(0,r.indexOf("["))},vr=function(r,e){return RegExp(("^"+e+"[\\d+]").replace(/\[/g,"\\[").replace(/\]/g,"\\]")).test(r)},yr=function(r,e){return c(r).some((function(r){return vr(e,r)}))};function hr(r,e){var t,n,u,a,c;if(Y(r)||e&&r instanceof File)return r;if(r instanceof Date)return c=new Date(r.getTime());if(r instanceof Set){c=new Set;try{for(var o=i(r),s=o.next();!s.done;s=o.next()){var l=s.value;c.add(l)}}catch(r){t={error:r}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return c}if(r instanceof Map){c=new Map;try{for(var f=i(r.keys()),d=f.next();!d.done;d=f.next()){var v=d.value;c.set(v,hr(r.get(v),e))}}catch(r){u={error:r}}finally{try{d&&!d.done&&(a=f.return)&&a.call(f)}finally{if(u)throw u.error}}return c}for(var v in c=Array.isArray(r)?[]:{},r)c[v]=hr(r[v],e);return c}var pr=function(r){return{isOnSubmit:!r||r===y,isOnBlur:r===d,isOnChange:r===v,isOnAll:r===p,isOnTouch:r===h}},mr=function(r){return W(r)||P(r)},br="undefined"==typeof window,gr="undefined"!=typeof document&&!br&&!B(window.HTMLElement),Ar=gr?"Proxy"in window:"undefined"!=typeof Proxy;var xr=r.createContext(null);xr.displayName="RHFContext";var Rr=function(){return r.useContext(xr)},wr=function(){var r="undefined"==typeof performance?Date.now():1e3*performance.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=(16*Math.random()+r)%16|0;return("x"==e?t:3&t|8).toString(16)}))};var Fr=function(r,e){return B(e)?[]:Array.isArray(e)?function(r,e){for(var t=-1;++t<r.length;)e.indexOf(t)>=0&&delete r[t];return O(r)}(r,e):function(r,e){return c(r.slice(0,e),r.slice(e+1))}(r,e)},Vr=function(r,e,t){return Array.isArray(r)?(B(r[t])&&(r[t]=void 0),r.splice(t,0,r.splice(e,1)[0]),r):[]},Sr=function(r,e,t){var n=[r[t],r[e]];r[e]=n[0],r[t]=n[1]};function Cr(r,e){return c(Array.isArray(e)?e:[e||void 0],r)}function Or(r,e,t){return c(r.slice(0,e),Array.isArray(t)?t:[t||void 0],r.slice(e))}var kr=function(r){return Array.isArray(r)?Array(r.length).fill(void 0):void 0};function Er(r){if(S(r)){var e={};for(var t in r)e[t]=!0;return[e]}return[!0]}var Dr=function(r){return(Array.isArray(r)?r:[r]).map(Er).flat()},Br=function(r,t){return r.map((function(r){var n;return e(((n={})[t]=wr(),n),r)}))};exports.Controller=function(n){var u=n.name,i=n.rules,c=n.as,o=n.render,s=n.defaultValue,l=n.control,f=n.onFocus,d=t(n,["name","rules","as","render","defaultValue","control","onFocus"]),v=Rr(),y=l||v.control,h=y.defaultValuesRef,p=y.setValue,m=y.register,b=y.unregister,g=y.trigger,A=y.mode,x=y.reValidateMode,R=x.isReValidateOnBlur,w=x.isReValidateOnChange,F=y.formStateRef.current,V=F.isSubmitted,C=F.touched,O=y.updateFormState,k=y.readFormStateRef,D=y.fieldsRef,L=y.fieldArrayNamesRef,T=y.shallowFieldsStateRef,N=!yr(L.current,u),W=function(){return!B(j(T.current,u))&&N?j(T.current,u):B(s)?j(h.current,u):s},M=a(r.useState(W()),2),P=M[0],H=M[1],U=r.useRef(P),q=r.useRef(f),I=function(r){return!fr(e({isBlurEvent:r,isReValidateOnBlur:R,isReValidateOnChange:w,isSubmitted:V,isTouched:!!j(C,u)},A))},_=function(r){var e=function(r){return Y(r)||!S(r.target)||S(r.target)&&!r.type?r:B(r.target.value)?r.target.checked:r.target.value}(a(r,1)[0]);return H(e),U.current=e,e},z=r.useCallback((function(){D.current[u]?D.current[u]=e({ref:D.current[u].ref},i):(m(Object.defineProperty({name:u,focus:q.current},"value",{set:function(r){H(r),U.current=r},get:function(){return U.current}}),i),N&&!j(h.current,u)&&H(W()))}),[i,u,m]);r.useEffect((function(){return function(){return b(u)}}),[b,u]),r.useEffect((function(){z()}),[z]),r.useEffect((function(){D.current[u]||(z(),N&&H(W()))}));var G=function(){k.current.touched&&!j(C,u)&&(E(C,u,!0),O({touched:C})),I(!0)&&g(u)},$=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return p(u,_(r),{shouldValidate:I(),shouldDirty:!0})},J=e(e({},d),{onChange:$,onBlur:G,name:u,value:P});return c?r.isValidElement(c)?r.cloneElement(c,J):r.createElement(c,J):o?o({onChange:$,onBlur:G,value:P,name:u}):null},exports.FormProvider=function(n){var u=n.children,i=t(n,["children"]);return r.createElement(xr.Provider,{value:e({},i)},u)},exports.appendErrors=cr,exports.get=j,exports.transformToNestObject=D,exports.useFieldArray=function(n){var u=n.control,i=n.name,o=n.keyName,s=void 0===o?"id":o,l=Rr(),f=r.useRef(-1),d=u||l.control,v=d.updateWatchedValue,y=d.resetFieldArrayFunctionRef,h=d.fieldArrayNamesRef,p=d.fieldsRef,m=d.defaultValuesRef,b=d.removeFieldEventListener,g=d.formStateRef,A=d.shallowFieldsStateRef,x=d.updateFormState,R=d.readFormStateRef,w=d.validFieldsRef,F=d.fieldsWithValidationRef,V=d.fieldArrayDefaultValuesRef,S=d.validateResolver,C=d.getValues,k=d.shouldUnregister,D=dr(i),L=r.useRef(c(j(V.current,D)?j(V.current,i,[]):j(k?m.current:A.current,i,[]))),T=a(r.useState(Br(L.current,s)),2),N=T[0],W=T[1],M=r.useRef(N),P=function(){return j(C(),i,M.current).map((function(r,t){return e(e({},M.current[t]),r)}))};M.current=N,h.current.add(i),j(V.current,D)||E(V.current,D,j(m.current,D));var H=function(r){if(W(r),R.current.isValid&&S){var e=C();E(e,i,r),S(e)}},U=function(r){return(R.current.isDirty||R.current.dirtyFields)&&(B(r)||!er(r.map((function(r){void 0===r&&(r={});var e=s;r[e];return t(r,["symbol"==typeof e?e:e+""])})),j(m.current,i)))},q=function(){for(var r in p.current)vr(r,i)&&b(p.current[r],!0)},I=function(r){return!O(j(r,i,[])).length&&J(r,i)},_=function(r){var t=j(m.current,i,[]),n=function(r,t){var n;for(var u in r)for(var a in r[u])a===s||t[u]&&r[u]&&r[u][a]===t[u][a]||E(g.current.dirtyFields,i+"["+u+"]",e(e({},j(g.current.dirtyFields,i+"["+u+"]",{})),((n={})[a]=!0,n)))};r&&(n(t,r),n(r,t))},z=function(r,e,t,n,u,a){if(void 0===n&&(n=!0),void 0===u&&(u=!0),void 0===a&&(a=!1),j(A.current,i)){var c=r(j(A.current,i),e.argA,e.argB);u&&E(A.current,i,c)}if(j(V.current,i)){c=r(j(V.current,i),e.argA,e.argB);u&&E(V.current,i,c),I(V.current)}if(Array.isArray(j(g.current.errors,i))){c=r(j(g.current.errors,i),e.argA,e.argB);u&&E(g.current.errors,i,c),I(g.current.errors)}if(R.current.touched&&j(g.current.touched,i)){c=r(j(g.current.touched,i),e.argA,e.argB);u&&E(g.current.touched,i,c),I(g.current.touched)}if(R.current.dirtyFields||R.current.isDirty){c=r(j(g.current.dirtyFields,i,[]),e.argC,e.argD);u&&E(g.current.dirtyFields,i,c),_(t),I(g.current.dirtyFields)}a&&R.current.isValid&&!S&&(E(w.current,i,r(j(w.current,i,[]),e.argA)),I(w.current),E(F.current,i,r(j(F.current,i,[]),e.argA)),I(F.current)),x({errors:g.current.errors,dirtyFields:g.current.dirtyFields,isDirty:n,touched:g.current.touched})},G=function(r){q(),!r&&J(V.current,i),J(A.current,i),L.current=j(r||m.current,i),W(Br(L.current,s))};return r.useEffect((function(){var r=j(V.current,i);if(r&&N.length<r.length&&(r.pop(),E(V.current,i,r)),v(i),f.current>-1)for(var e in p.current){var t=p.current[e];if(e.startsWith(i+"["+f.current+"]")&&t.ref.focus){t.ref.focus();break}}f.current=-1}),[N,i]),r.useEffect((function(){var r=y.current,e=h.current;return dr(i)||(r[i]=G),function(){q(),delete r[i],e.delete(i)}}),[]),{swap:r.useCallback((function(r,e){var t=P();Sr(t,r,e),q(),H(c(t)),z(Sr,{argA:r,argB:e,argC:r,argD:e},void 0,U(t),!1)}),[i]),move:r.useCallback((function(r,e){var t=P();Vr(t,r,e),q(),H(c(t)),z(Vr,{argA:r,argB:e,argC:r,argD:e},void 0,U(t),!1)}),[i]),prepend:r.useCallback((function(r,e){void 0===e&&(e=!0);var t=kr(r),n=Cr(P(),Br(Array.isArray(r)?r:[r],s));H(n),q(),z(Cr,{argA:t,argC:Dr(r)},n),f.current=e?0:-1}),[i]),append:r.useCallback((function(r,e){void 0===e&&(e=!0);var t=c(M.current,Br(Array.isArray(r)?r:[r],s));H(t),(R.current.dirtyFields||R.current.isDirty)&&(_(t),x({isDirty:!0,dirtyFields:g.current.dirtyFields})),k||(A.current[i]=c(A.current[i]||[],[r])),f.current=e?M.current.length:-1}),[i]),remove:r.useCallback((function(r){var e=P(),t=Fr(e,r);H(t),q(),z(Fr,{argA:r,argC:r},t,U(Fr(e,r)),!0,!0)}),[i]),insert:r.useCallback((function(r,e,t){void 0===t&&(t=!0);var n=kr(e),u=P(),i=Or(u,r,Br(Array.isArray(e)?e:[e],s));H(i),q(),z(Or,{argA:r,argB:n,argC:r,argD:Dr(e)},i,U(Or(u,r))),f.current=t?r:-1}),[i]),fields:N}},exports.useForm=function(t){var d=this,h=void 0===t?{}:t,m=h.mode,b=void 0===m?y:m,g=h.reValidateMode,A=void 0===g?v:g,x=h.resolver,R=h.context,w=h.defaultValues,V=void 0===w?{}:w,k=h.shouldFocusError,T=void 0===k||k,N=h.shouldUnregister,U=void 0===N||N,q=h.criteriaMode,I=r.useRef({}),$=r.useRef({}),Z=r.useRef(new Set),tr=r.useRef({}),nr=r.useRef({}),ir=r.useRef({}),ar=r.useRef({}),cr=r.useRef(V),vr=r.useRef({}),xr=r.useRef(!1),Rr=r.useRef(!1),wr=r.useRef(),Fr=r.useRef(U?{}:hr(V,gr)),Vr=r.useRef({}),Sr=r.useRef(R),Cr=r.useRef(x),Or=r.useRef(new Set),kr=r.useRef(pr(b)),Er=kr.current,Dr=Er.isOnSubmit,Br=Er.isOnTouch,jr=q===p,Lr=a(r.useState({isDirty:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touched:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!Dr,errors:{}}),2),Tr=Lr[0],Nr=Lr[1],Wr=r.useRef({isDirty:!Ar,dirtyFields:!Ar,touched:!Ar||Br,isSubmitting:!Ar,isValid:!Ar}),Mr=r.useRef(Tr),Pr=r.useRef(),Hr=r.useRef(pr(A)).current,Ur=Hr.isOnBlur,qr=Hr.isOnChange;Sr.current=R,Cr.current=x,Mr.current=Tr;var Ir=r.useCallback((function(r){return void 0===r&&(r={}),!xr.current&&Nr(e(e({},Mr.current),r))}),[]),_r=r.useCallback((function(r,t,n,u,i){void 0===n&&(n=!1),void 0===u&&(u={});var a=n||function(r){var e=r.errors,t=r.name,n=r.error,u=r.validFields,i=r.fieldsWithValidation,a=B(n),c=j(e,t);return a&&!!c||!a&&!er(c,n,!0)||a&&j(i,t)&&!j(u,t)}({errors:Mr.current.errors,error:t,name:r,validFields:ar.current,fieldsWithValidation:ir.current}),c=j(Mr.current.errors,r);t?(J(ar.current,r),a=a||!c||!er(c,t,!0),E(Mr.current.errors,r,t)):((j(ir.current,r)||Cr.current)&&(E(ar.current,r,!0),a=a||c),J(Mr.current.errors,r)),(a&&!F(n)||!G(u))&&Ir(e(e(e({},u),{errors:Mr.current.errors}),Cr.current?{isValid:!!i}:{}))}),[]),zr=r.useCallback((function(r,e){var t=I.current[r],n=t.ref,u=t.options,i=gr&&o(n)&&F(e)?"":e;W(n)&&u?u.forEach((function(r){var e=r.ref;return e.checked=e.value===i})):M(n)&&!X(i)?n.files=i:H(n)?c(n.options).forEach((function(r){return r.selected=i.includes(r.value)})):P(n)&&u?u.length>1?u.forEach((function(r){var e=r.ref;return e.checked=Array.isArray(i)?!!i.find((function(r){return r===e.value})):i===e.value})):u[0].ref.checked=!!i:n.value=i}),[]),Gr=function(){return!er(te(),G(cr.current)?vr.current:cr.current)||!G(Mr.current.dirtyFields)},$r=r.useCallback((function(r,t){if(void 0===t&&(t=!0),Wr.current.isDirty||Wr.current.dirtyFields){var n=j(vr.current,r)!==_(I,r,Fr),u=j(Mr.current.dirtyFields,r),i=Mr.current.isDirty;n?E(Mr.current.dirtyFields,r,!0):J(Mr.current.dirtyFields,r);var a={isDirty:Gr(),dirtyFields:Mr.current.dirtyFields},c=Wr.current.isDirty&&i!==a.isDirty||Wr.current.dirtyFields&&u!==j(Mr.current.dirtyFields,r);return c&&t&&(Mr.current=e(e({},Mr.current),a),Ir(e({},a))),c?a:{}}return{}}),[]),Jr=r.useCallback((function(r,e){return n(d,void 0,void 0,(function(){var t;return u(this,(function(n){switch(n.label){case 0:return I.current[r]?[4,or(I,jr,I.current[r],Fr)]:[3,2];case 1:return t=n.sent()[r],_r(r,t,e),[2,B(t)];case 2:return[2,!1]}}))}))}),[_r,jr]),Kr=r.useCallback((function(r){return n(d,void 0,void 0,(function(){var e,t,n,i;return u(this,(function(u){switch(u.label){case 0:return[4,Cr.current(te(),Sr.current,jr)];case 1:return e=u.sent().errors,t=Mr.current.isValid,Array.isArray(r)?(n=r.map((function(r){var t=j(e,r);return t?E(Mr.current.errors,r,t):J(Mr.current.errors,r),!t})).every(Boolean),Ir({isValid:G(e),errors:Mr.current.errors}),[2,n]):(i=j(e,r),_r(r,i,t!==G(e),{},G(e)),[2,!i])}}))}))}),[_r,jr]),Qr=r.useCallback((function(r){return n(d,void 0,void 0,(function(){var e,t,i=this;return u(this,(function(a){switch(a.label){case 0:return e=r||Object.keys(I.current),Cr.current?[2,Kr(e)]:Array.isArray(e)?[4,Promise.all(e.map((function(r){return n(i,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return[4,Jr(r,null)];case 1:return[2,e.sent()]}}))}))})))]:[3,2];case 1:return t=a.sent(),Ir(),[2,t.every(Boolean)];case 2:return[4,Jr(e,Wr.current.isValid)];case 3:return[2,a.sent()]}}))}))}),[Kr,Jr]),Xr=r.useCallback((function(r,e,t){var n,u,a=t.shouldDirty,c=t.shouldValidate,o={};E(o,r,e);try{for(var s=i(sr(r,e)),l=s.next();!l.done;l=s.next()){var f=l.value;I.current[f]&&(zr(f,j(o,f)),a&&$r(f),c&&Qr(f))}}catch(r){n={error:r}}finally{try{l&&!l.done&&(u=s.return)&&u.call(s)}finally{if(n)throw n.error}}}),[Qr,zr,$r]),Yr=r.useCallback((function(r,t,n){var u,i;void 0===n&&(n={}),I.current[r]?(zr(r,t),n.shouldDirty&&$r(r)):Y(t)||(Xr(r,t,n),Or.current.has(r)&&($.current[r]=t,Vr.current[r](((u={})[r]=t,u)),(Wr.current.isDirty||Wr.current.dirtyFields)&&n.shouldDirty&&(E(Mr.current.dirtyFields,r,Q(t,j(cr.current,r,[]),j(Mr.current.dirtyFields,r,[]))),Ir({isDirty:!er(e(e({},te()),(i={},i[r]=t,i)),cr.current),dirtyFields:Mr.current.dirtyFields})))),!U&&E(Fr.current,r,t)}),[$r,zr,Xr]),Zr=function(r){return Rr.current||Z.current.has(r)||Z.current.has((r.match(/\w+/)||[])[0])},re=function(r,e){if(void 0===e&&(e=!0),!G(tr.current))for(var t in tr.current)r&&tr.current[t].size&&!tr.current[t].has(r)&&!tr.current[t].has(dr(r))||(nr.current[t](),e=!1);return e};function ee(r){var t,n,u;if(!U){var a=hr(r,gr);try{for(var c=i(Or.current),o=c.next();!o.done;o=c.next()){var s=o.value;C(s)&&!a[s]&&(a=e(e({},a),((u={})[s]=[],u)))}}catch(r){t={error:r}}finally{try{o&&!o.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}return a}return r}function te(r){var e,t;if(X(r))return _(I,r,Fr);if(Array.isArray(r)){var n={};try{for(var u=i(r),a=u.next();!a.done;a=u.next()){var c=a.value;E(n,c,_(I,c,Fr))}}catch(r){e={error:r}}finally{try{a&&!a.done&&(t=u.return)&&t.call(u)}finally{if(e)throw e.error}}return n}return ee(rr(I,Fr))}wr.current=wr.current?wr.current:function(r){var t=r.type,i=r.target;return n(d,void 0,void 0,(function(){var r,n,a,c,o,l,f,d,v,y;return u(this,(function(u){switch(u.label){case 0:return r=i.name,(n=I.current[r])?(l=fr(e({isBlurEvent:o=t===s,isReValidateOnChange:qr,isReValidateOnBlur:Ur,isTouched:!!j(Mr.current.touched,r),isSubmitted:Mr.current.isSubmitted},kr.current)),f=$r(r,!1),d=!G(f)||Zr(r),o&&!j(Mr.current.touched,r)&&Wr.current.touched&&(E(Mr.current.touched,r,!0),f=e(e({},f),{touched:Mr.current.touched})),l?(re(r),[2,(!G(f)||d&&G(f))&&Ir(f)]):Cr.current?[4,Cr.current(te(),Sr.current,jr)]:[3,2]):[3,5];case 1:return v=u.sent().errors,y=Mr.current.isValid,a=j(v,r),c=G(v),y!==c&&(d=!0),[3,4];case 2:return[4,or(I,jr,n,Fr)];case 3:a=u.sent()[r],u.label=4;case 4:re(r),_r(r,a,d,f,c),u.label=5;case 5:return[2]}}))}))};var ne=r.useCallback((function(r){return void 0===r&&(r={}),n(d,void 0,void 0,(function(){var t,n;return u(this,(function(u){switch(u.label){case 0:return[4,Cr.current(e(e(e({},cr.current),te()),r),Sr.current,jr)];case 1:return t=u.sent().errors,n=G(t),Mr.current.isValid!==n&&Ir({isValid:n}),[2]}}))}))}),[jr]),ue=r.useCallback((function(r,e){return function(r,e,t,n,u,i){var a=t.ref,c=t.ref,o=c.name,s=c.type,l=r.current[o];if(!u){var f=_(r,o,n);B(f)||E(n.current,o,f)}if(s)if((W(a)||P(a))&&l){var d=l.options;Array.isArray(d)&&d.length?(O(d).forEach((function(r,t){var n=r.ref;(n&&z(n)&&K(r,n)||i)&&(L(n,e),J(d,"["+t+"]"))})),d&&!O(d).length&&delete r.current[o]):delete r.current[o]}else(z(a)&&K(l,a)||i)&&(L(a,e),delete r.current[o]);else delete r.current[o]}(I,wr.current,r,Fr,U,e)}),[U]),ie=function(r){var e,t;if(Rr.current)Ir();else if(Z){var n=!0;try{for(var u=i(Z.current),a=u.next();!a.done;a=u.next()){if(a.value.startsWith(r)){Ir(),n=!1;break}}}catch(r){e={error:r}}finally{try{a&&!a.done&&(t=u.return)&&t.call(u)}finally{if(e)throw e.error}}n&&re(r)}},ae=r.useCallback((function(r,e){r&&(ue(r,e),U&&!O(r.options||[]).length&&(J(vr.current,r.ref.name),J(ar.current,r.ref.name),J(ir.current,r.ref.name),J(Mr.current.errors,r.ref.name),E(Mr.current.dirtyFields,r.ref.name,!0),Ir({errors:Mr.current.errors,isDirty:Gr(),dirtyFields:Mr.current.dirtyFields}),Wr.current.isValid&&Cr.current&&ne(),ie(r.ref.name)))}),[ne,ue]),ce=r.useCallback((function(r,t,n){var u=n?tr.current[n]:Z.current,i=B(t)?cr.current:t,a=rr(I,Fr,!1,r);return X(r)?lr(a,r,u,B(t)?j(i,r):t,!0):Array.isArray(r)?r.reduce((function(r,t){var n;return e(e({},r),((n={})[t]=lr(a,t,u,i),n))}),{}):(Rr.current=B(n),D(!G(a)&&a||i))}),[]);function oe(r,t){void 0===t&&(t={});var n,u=r.name,i=r.type,a=r.value,d=e({ref:r},t),v=I.current,y=mr(r),h=yr(Or.current,u),p=function(e){return gr&&(!o(r)||e===r)},m=v[u],b=!0;if(m&&(y?Array.isArray(m.options)&&O(m.options).find((function(r){return a===r.ref.value&&p(r.ref)})):p(m.ref)))v[u]=e(e({},m),t);else{m=i?y?e({options:c(O(m&&m.options||[]),[{ref:r}]),ref:{type:i,name:u}},t):e({},d):d,v[u]=m;var g=B(j(Fr.current,u));if(G(cr.current)&&g||(n=j(g?cr.current:Fr.current,u),(b=B(n))||h||zr(u,n)),G(t)||(E(ir.current,u,!0),!Dr&&Wr.current.isValid&&or(I,jr,m,Fr).then((function(r){var e=Mr.current.isValid;G(r)?E(ar.current,u,!0):J(ar.current,u),e!==G(r)&&Ir()}))),!(vr.current[u]||h&&b)){var A=_(I,u,Fr);E(vr.current,u,b?S(A)?e({},A):A:n),!h&&J(Mr.current.dirtyFields,u)}i&&function(r,e,t){var n=r.ref;o(n)&&t&&(n.addEventListener(e?l:f,t),n.addEventListener(s,t))}(y&&m.options?m.options[m.options.length-1]:m,y||"select-one"===r.type,wr.current)}}var se=r.useCallback((function(r,t){return function(a){return n(d,void 0,void 0,(function(){var n,c,o,s,l,f,d,v,y,h,p,m,b;return u(this,(function(u){switch(u.label){case 0:a&&a.preventDefault&&(a.preventDefault(),a.persist()),n={},c=ee(rr(I,Fr,!0)),Wr.current.isSubmitting&&Ir({isSubmitting:!0}),u.label=1;case 1:return u.trys.push([1,,16,17]),Cr.current?[4,Cr.current(c,Sr.current,jr)]:[3,3];case 2:return o=u.sent(),s=o.errors,l=o.values,Mr.current.errors=n=s,c=l,[3,10];case 3:u.trys.push([3,8,9,10]),f=i(Object.values(I.current)),d=f.next(),u.label=4;case 4:return d.done?[3,7]:(v=d.value)?(y=v.ref.name,[4,or(I,jr,v,Fr)]):[3,6];case 5:(h=u.sent())[y]?(E(n,y,h[y]),J(ar.current,y)):j(ir.current,y)&&(J(Mr.current.errors,y),E(ar.current,y,!0)),u.label=6;case 6:return d=f.next(),[3,4];case 7:return[3,10];case 8:return p=u.sent(),m={error:p},[3,10];case 9:try{d&&!d.done&&(b=f.return)&&b.call(f)}finally{if(m)throw m.error}return[7];case 10:return G(n)&&Object.keys(Mr.current.errors).every((function(r){return r in I.current}))?(Ir({errors:{},isSubmitting:!0}),[4,r(c,a)]):[3,12];case 11:return u.sent(),[3,15];case 12:return Mr.current.errors=e(e({},Mr.current.errors),n),t?[4,t(Mr.current.errors,a)]:[3,14];case 13:u.sent(),u.label=14;case 14:T&&function(r,e){for(var t in r)if(j(e,t)){var n=r[t];if(n){if(n.ref.focus){n.ref.focus();break}if(n.options){n.options[0].ref.focus();break}}}}(I.current,Mr.current.errors),u.label=15;case 15:return[3,17];case 16:return Ir({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:G(Mr.current.errors),errors:Mr.current.errors,submitCount:Mr.current.submitCount+1}),[7];case 17:return[2]}}))}))}}),[T,jr]);r.useEffect((function(){return xr.current=!1,x&&Wr.current.isValid&&ne(),Pr.current=Pr.current||!gr?Pr.current:function(r,e){var t=new MutationObserver((function(){var t,n,u,a;try{for(var c=i(Object.values(r.current)),o=c.next();!o.done;o=c.next()){var s=o.value;if(s&&s.options)try{for(var l=(u=void 0,i(s.options)),f=l.next();!f.done;f=l.next()){var d=f.value;d&&d.ref&&z(d.ref)&&e(s)}}catch(r){u={error:r}}finally{try{f&&!f.done&&(a=l.return)&&a.call(l)}finally{if(u)throw u.error}}else s&&z(s.ref)&&e(s)}}catch(r){t={error:r}}finally{try{o&&!o.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}}));return t.observe(window.document,{childList:!0,subtree:!0}),t}(I,ae),function(){xr.current=!0,Pr.current&&Pr.current.disconnect(),Fr.current={},Object.values(I.current).forEach((function(r){return ae(r,!0)}))}}),[ae]),!x&&Wr.current.isValid&&(Tr.isValid=er(ar.current,ir.current)&&G(Mr.current.errors));var le={trigger:Qr,setValue:r.useCallback((function(r,e,t){Yr(r,e,t),Zr(r)&&Ir(),re(r),(t||{}).shouldValidate&&Qr(r)}),[Yr,Qr]),getValues:r.useCallback(te,[]),register:r.useCallback((function(r,e){if(!br)if(X(r))oe({name:r},e);else{if(!S(r)||!("name"in r))return function(e){return e&&oe(e,r)};oe(r,e)}}),[cr.current]),unregister:r.useCallback((function(r){var e,t;try{for(var n=i(Array.isArray(r)?r:[r]),u=n.next();!u.done;u=n.next()){var a=u.value;ae(I.current[a],!0)}}catch(r){e={error:r}}finally{try{u&&!u.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}}),[])},fe=e({updateWatchedValue:ie,shouldUnregister:U,removeFieldEventListener:ue,watchInternal:ce,mode:kr.current,reValidateMode:{isReValidateOnBlur:Ur,isReValidateOnChange:qr},fieldsRef:I,resetFieldArrayFunctionRef:Vr,useWatchFieldsRef:tr,useWatchRenderFunctionsRef:nr,fieldArrayDefaultValuesRef:$,validFieldsRef:ar,fieldsWithValidationRef:ir,fieldArrayNamesRef:Or,readFormStateRef:Wr,formStateRef:Mr,defaultValuesRef:cr,shallowFieldsStateRef:Fr,updateFormState:Ir,validateResolver:x?ne:void 0},le);return e({watch:function(r,e){return ce(r,e)},control:fe,formState:Ar?new Proxy(Tr,{get:function(r,e){if(e in r)return Wr.current[e]=!0,r[e]}}):Tr,handleSubmit:se,reset:r.useCallback((function(r,e){var t,n;if(void 0===e&&(e={}),gr)try{for(var u=i(Object.values(I.current)),a=u.next();!a.done;a=u.next()){var c=a.value;if(c){var s=c.ref,l=c.options,f=mr(s)&&Array.isArray(l)?l[0].ref:s;if(o(f))try{f.closest("form").reset();break}catch(r){}}}}catch(r){t={error:r}}finally{try{a&&!a.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}I.current={},cr.current=hr(r||cr.current,gr),r&&re(""),Object.values(Vr.current).forEach((function(r){return ur(r)&&r()})),Fr.current=U?{}:hr(r,gr)||{},function(r){var e=r.errors,t=r.isDirty,n=r.isSubmitted,u=r.touched,i=r.isValid,a=r.submitCount,c=r.dirtyFields;i||(ar.current={},ir.current={}),vr.current={},$.current={},Z.current=new Set,Rr.current=!1,Ir({submitCount:a?Mr.current.submitCount:0,isDirty:!!t&&Mr.current.isDirty,isSubmitted:!!n&&Mr.current.isSubmitted,isValid:!!i&&Mr.current.isValid,dirtyFields:c?Mr.current.dirtyFields:{},touched:u?Mr.current.touched:{},errors:e?Mr.current.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})}(e)}),[]),clearErrors:r.useCallback((function(r){r&&(Array.isArray(r)?r:[r]).forEach((function(r){return I.current[r]?C(r)?delete Mr.current.errors[r]:E(Mr.current.errors,r,void 0):J(Mr.current.errors,r)})),Ir({errors:r?Mr.current.errors:{}})}),[]),setError:r.useCallback((function(r,t){var n=(I.current[r]||{}).ref;E(Mr.current.errors,r,e(e({},t),{ref:n})),Ir({isValid:!1,errors:Mr.current.errors}),t.shouldFocus&&n&&n.focus&&n.focus()}),[]),errors:Tr.errors},le)},exports.useFormContext=Rr,exports.useWatch=function(t){var n=t.control,u=t.name,i=t.defaultValue,o=Rr(),s=n||o.control,l=s.useWatchFieldsRef,f=s.useWatchRenderFunctionsRef,d=s.watchInternal,v=s.defaultValuesRef,y=a(r.useState(B(i)?X(u)?j(v.current,u):Array.isArray(u)?u.reduce((function(r,t){var n;return e(e({},r),((n={})[t]=j(v.current,t),n))}),{}):v.current:i),2),h=y[0],p=y[1],m=r.useRef(),b=r.useRef(i),g=r.useCallback((function(){var r=d(u,b.current,m.current);p(S(r)?e({},r):Array.isArray(r)?c(r):r)}),[p,d,b,u,m]);return r.useEffect((function(){var r=m.current=wr(),e=f.current,t=l.current;return t[r]=new Set,e[r]=g,d(u,b.current,r),function(){delete t[r],delete e[r]}}),[u,g,f,l,d,b]),B(h)?i:h};
//# sourceMappingURL=index.ie11.production.min.js.map
